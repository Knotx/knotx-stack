# Event bus address of the Basic HTTP Datasource
address = ${global.bridge.dataSource.http.address}

clientOptions {
  maxPoolSize = 1000
  idleTimeout = 120 # seconds

  # If your datasources are using SSL you'd need to configure here low level details on how the
  # SSL connection is to be maintaned. Currently, if configured all defined in 'datasources' section
  # will use SSL
  #
  # Enable SSL
  # ssl = true
  #
  # Whether all server certificated should be trusted or not (e.g. self-signed certificates)
  # trustAll = true
  #
  # Hostname verification
  # verifyHost = false
  #
  # Enables network activity logger (Netty). Remember you also need to include additional logger
  # configuration in the logback config:
  # <include resource="io/knotx/logging/logback/netty.xml" />
  #
  # logActivity = true
}

# List of datasource services that are supported by this datasource adapter.
# You can define here as many service definitions as required for your project.
services = [
  {
    path = "/service/mock/.*"
    scheme = http
    domain = localhost
    port = ${test.wiremock.mockService.port}
    allowedRequestHeaders = [
      "Content-Type",
      "X-*"
    ]
  }
  {
    path = "/service/.*"
    scheme = http
    domain = localhost
    port = 8080
    allowedRequestHeaders = [
      "Content-Type",
      "X-*"
    ]
  }
]

# Statically defined HTTP request header sent in every request to any datasource
customRequestHeader {
  name = X-User-Agent
  value = Knot.x
}
