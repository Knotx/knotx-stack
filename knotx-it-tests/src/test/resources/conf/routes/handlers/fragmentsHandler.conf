########### This configuration is overloaded in integration tests! ###########
tasks {
  author-listing {
    action = author
    onTransitions {
      _success {
        action = te
      }
    }
  }
}

actions {
  author {
    factory = http
    config {
      endpointOptions {
        path = /service/mock/author.json
        domain = localhost
        port = ${test.wiremock.mockService.port}
        allowedRequestHeaders = [ "Content-Type" ]
      }
    }
  }
  te {
    factory = "knot"
    config {
      address = "knotx.knot.te"
      deliveryOptions {
        sendTimeout = 3000
      }
    }
  }
}